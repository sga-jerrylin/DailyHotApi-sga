(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1206:(e,t,a)=>{"use strict";a.d(t,{TrendingPlatforms:()=>x});var r=a(5155),s=a(2115),n=a(8482),l=a(8145),i=a(7168),o=a(8571),c=a(3999);let d=o.bL,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.B8,{ref:t,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});m.displayName=o.B8.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.l9,{ref:t,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});u.displayName=o.l9.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.UC,{ref:t,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});g.displayName=o.UC.displayName;let h={tech:{name:"科技",icon:"\uD83D\uDE80",color:"from-blue-500 to-cyan-500",key:"tech"},media:{name:"新媒体",icon:"\uD83D\uDCF1",color:"from-pink-500 to-purple-500",key:"media"},news:{name:"实时新闻",icon:"\uD83D\uDCF0",color:"from-red-500 to-orange-500",key:"news"},finance:{name:"财经",icon:"\uD83D\uDCB0",color:"from-green-500 to-teal-500",key:"finance"},community:{name:"社区论坛",icon:"\uD83D\uDCAC",color:"from-yellow-500 to-amber-500",key:"community"},entertainment:{name:"娱乐游戏",icon:"\uD83C\uDFAE",color:"from-indigo-500 to-violet-500",key:"entertainment"}};function x(){let[e,t]=(0,s.useState)("tech"),[a,o]=(0,s.useState)({}),[c,x]=(0,s.useState)(new Set),[p,b]=(0,s.useState)({}),f=async()=>{let e=window.location.origin;try{x(new Set(Object.keys(h)));let t=Object.keys(h).map(async t=>{try{let a=await fetch("".concat(e,"/aggregate?group=source&category=").concat(t,"&per=10")),r=await a.json();o(e=>({...e,[t]:r})),x(e=>{let a=new Set(e);return a.delete(t),a}),r.groups&&b(e=>({...e,[t]:new Set(r.groups.map(e=>e.route))})),console.log("✅ [".concat(t,"] 分类数据加载完成"))}catch(e){console.error("❌ [".concat(t,"] 分类数据加载失败:"),e),x(e=>{let a=new Set(e);return a.delete(t),a})}});await Promise.allSettled(t),console.log("\uD83C\uDF89 所有分类数据加载完成")}catch(e){console.error("❌ 数据加载失败:",e),x(new Set)}};(0,s.useEffect)(()=>{f()},[]);let v=e=>{let t=a[e];return(null==t?void 0:t.groups)&&Array.isArray(t.groups)?t.groups.map(e=>({route:e.route,name:e.title,title:e.title,items:e.data||[],total:e.total||0})):[]},y=async()=>{o({}),b({}),await f()},j=e=>c.has(e),w=e=>a[e]&&v(e).length>0,N=Object.keys(h).length,k=Math.round((N-c.size)/N*100);return(0,r.jsxs)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8 pb-24",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white",children:"78个数据源 \xb7 六大分类聚合"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[c.size>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-cyan-400",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),(0,r.jsxs)("span",{children:["加载中 ",k,"%"]})]}),(0,r.jsx)(i.$,{onClick:y,disabled:c.size>0,className:"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700 text-white",children:c.size>0?"\uD83D\uDD04 加载中...":"\uD83D\uDD04 刷新全部"})]})]}),(0,r.jsx)("p",{className:"text-gray-400",children:"科技、新媒体、实时新闻、财经、社区论坛、娱乐游戏 - 全方位热点追踪"})]}),(0,r.jsxs)(d,{value:e,onValueChange:t,className:"w-full",children:[(0,r.jsx)(m,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 bg-black/20 border border-gray-800",children:Object.entries(h).map(e=>{let[t,a]=e,s=j(t),n=w(t);return(0,r.jsxs)(u,{value:t,className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-cyan-600 text-white relative",children:[(0,r.jsx)("span",{className:"mr-2",children:a.icon}),a.name,s&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),n&&!s&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-400 rounded-full"})]},t)})}),Object.entries(h).map(e=>{let[t,a]=e,s=v(t),o=j(t),c=w(t);return(0,r.jsx)(g,{value:t,className:"mt-8",children:o&&!c?(0,r.jsx)("div",{className:"text-center text-gray-400 py-12",children:(0,r.jsxs)("div",{className:"animate-pulse",children:["正在加载 ",a.name," 数据..."]})}):c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((e,t)=>{var s,i,o;return(0,r.jsxs)(n.Zp,{className:"bg-black/20 border-gray-800 backdrop-blur-sm hover:bg-black/30 transition-all duration-300",children:[(0,r.jsx)(n.aR,{className:"pb-3",children:(0,r.jsxs)(n.ZB,{className:"flex items-center justify-between text-white",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:a.icon}),(0,r.jsx)("span",{className:"bg-gradient-to-r ".concat(a.color," bg-clip-text text-transparent text-base font-semibold"),children:e.name})]}),(0,r.jsxs)(l.E,{variant:"outline",className:"border-purple-500/50 bg-purple-500/10 text-purple-300 text-xs",children:[(null===(s=e.items)||void 0===s?void 0:s.length)||0," 条"]})]})}),(0,r.jsxs)(n.Wu,{className:"pt-0",children:[(0,r.jsx)("div",{className:"space-y-2",children:null===(i=e.items)||void 0===i?void 0:i.slice(0,10).map((e,t)=>{var a;return(0,r.jsx)("div",{className:"group cursor-pointer hover:bg-black/30 rounded-lg p-2 transition-all duration-200 border border-transparent hover:border-gray-700",onClick:()=>window.open(e.url,"_blank"),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm font-mono min-w-[20px] mt-0.5",children:t+1}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-white text-sm line-clamp-2 leading-relaxed group-hover:text-blue-400 transition-colors",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.time}),e.hot&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["热度: ","string"==typeof(a=e.hot)?a:"number"==typeof a?a>=1e6?"".concat((a/1e6).toFixed(1),"M"):a>=1e3?"".concat((a/1e3).toFixed(1),"K"):a.toString():""]})]})]})]})},t)})}),(null===(o=e.items)||void 0===o?void 0:o.length)>10&&(0,r.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-700",children:(0,r.jsxs)("button",{className:"w-full text-center text-sm text-gray-400 hover:text-gray-300 transition-colors",children:["查看更多 (",e.items.length-10," 条)"]})})]})]},t)})}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-4 bg-black/20 border border-gray-800 rounded-lg px-6 py-3 backdrop-blur-sm",children:[(0,r.jsxs)("span",{className:"text-gray-400",children:[a.name,"分类 \xb7 ",s.length," 个数据源 \xb7",s.reduce((e,t)=>{var a;return e+((null===(a=t.items)||void 0===a?void 0:a.length)||0)},0)," 条热点"]}),(0,r.jsx)(i.$,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800 bg-transparent",children:"查看全部"})]})})]}):(0,r.jsx)("div",{className:"text-center text-gray-400 py-12",children:(0,r.jsxs)("div",{children:["暂无 ",a.name," 数据"]})})},t)})]})]})}},1369:(e,t,a)=>{"use strict";a.d(t,{HeroSection:()=>i});var r=a(5155),s=a(2115),n=a(8145),l=a(6766);function i(){let[e,t]=(0,s.useState)(new Date);return(0,s.useEffect)(()=>{let e=setInterval(()=>t(new Date),1e3);return()=>clearInterval(e)},[]),(0,r.jsxs)("div",{className:"relative px-6 pt-8 lg:px-8 overflow-hidden min-h-[80vh]",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-purple-900/80 to-slate-900",children:[[...Array(20)].map((e,t)=>(0,r.jsx)("div",{className:"absolute bg-white rounded-full animate-twinkle",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),width:"".concat(2+3*Math.random(),"px"),height:"".concat(2+3*Math.random(),"px"),animationDelay:"".concat(3*Math.random(),"s"),animationDuration:"".concat(2+2*Math.random(),"s")}},"star-".concat(t))),[...Array(100)].map((e,t)=>(0,r.jsx)("div",{className:"absolute bg-white/60 rounded-full animate-twinkle-slow",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),width:"1px",height:"1px",animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(3+4*Math.random(),"s")}},"small-star-".concat(t)))]}),(0,r.jsx)("div",{className:"absolute inset-0",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-1 h-20 bg-gradient-to-b from-white via-cyan-300 to-transparent opacity-70 animate-meteor",style:{left:"".concat(20+60*Math.random(),"%"),top:"".concat(10+30*Math.random(),"%"),transform:"rotate(45deg)",animationDelay:"".concat(8*t,"s"),animationDuration:"3s"}},"meteor-".concat(t)))}),(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute top-20 left-20 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl animate-float"}),(0,r.jsx)("div",{className:"absolute top-40 right-32 w-60 h-60 bg-cyan-500/10 rounded-full blur-3xl animate-float-reverse"}),(0,r.jsx)("div",{className:"absolute bottom-32 left-32 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl animate-float-slow"})]}),(0,r.jsx)("div",{className:"absolute inset-0 opacity-30",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-conic from-transparent via-purple-500/20 to-transparent animate-galaxy-rotate",style:{background:"conic-gradient(from 0deg, transparent, rgba(147, 51, 234, 0.1), transparent, rgba(6, 182, 212, 0.1), transparent)"}})})]}),(0,r.jsx)("div",{className:"relative mx-auto max-w-4xl py-16 sm:py-20",children:(0,r.jsxs)("div",{className:"text-center space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.default,{src:"/sga-logo.png",alt:"SGA Logo",width:90,height:90,className:"rounded-full border-2 border-cyan-400/40 shadow-2xl shadow-cyan-500/30 animate-float"}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-400/30 to-cyan-400/30 animate-pulse"}),(0,r.jsx)("div",{className:"absolute -inset-2 rounded-full border border-white/20 animate-spin-slow"})]}),(0,r.jsxs)("div",{className:"text-base text-gray-300 font-mono tracking-wider leading-relaxed",children:["Powered by"," ",(0,r.jsx)("span",{className:"text-transparent bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text font-bold text-lg",children:"SGA"})," ","• Solo Genius AI"]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)(n.E,{variant:"outline",className:"border-cyan-500/50 bg-cyan-500/10 text-cyan-300 px-6 py-3 backdrop-blur-sm text-sm",children:[(0,r.jsx)("span",{className:"animate-pulse mr-3 text-cyan-400",children:"●"}),"实时更新 ",e.toLocaleTimeString("zh-CN")]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("h1",{className:"text-5xl font-bold tracking-tight text-white sm:text-7xl leading-tight",children:[(0,r.jsx)("span",{className:"block bg-gradient-to-r from-white via-cyan-200 to-purple-200 bg-clip-text text-transparent",children:"AI驱动的中国热点"}),(0,r.jsx)("span",{className:"block text-transparent bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text mt-4",children:"智能监控平台"})]}),(0,r.jsxs)("p",{className:"text-xl leading-10 text-gray-300 max-w-3xl mx-auto backdrop-blur-sm",children:["基于SGA AI技术，聚合78个数据源，",(0,r.jsx)("br",{className:"hidden sm:block"}),"覆盖科技、新媒体、新闻、财经、社区、娱乐等六大分类，智能分析热点趋势，为您提供最具洞察力的中文互联网热点资讯。"]})]})]})})]})}},3084:(e,t,a)=>{"use strict";a.d(t,{StatsOverview:()=>l});var r=a(5155),s=a(2115),n=a(8482);function l(){let[e,t]=(0,s.useState)([{label:"科技",value:0,target:100,color:"from-blue-500 to-cyan-500",key:"tech"},{label:"新媒体",value:0,target:100,color:"from-pink-500 to-purple-500",key:"media"},{label:"实时新闻",value:0,target:100,color:"from-red-500 to-orange-500",key:"news"},{label:"财经",value:0,target:100,color:"from-green-500 to-teal-500",key:"finance"},{label:"社区论坛",value:0,target:100,color:"from-yellow-500 to-amber-500",key:"community"},{label:"娱乐游戏",value:0,target:100,color:"from-indigo-500 to-violet-500",key:"entertainment"}]);return(0,s.useEffect)(()=>{(async function(){try{let e=window.location.origin,a=await fetch("".concat(e,"/aggregate?group=source&per=10")),r=await a.json();r.groups&&t(e=>e.map(e=>{let t=r.groups.filter(t=>t.category===e.key);return t.reduce((e,t)=>{var a;return e+((null===(a=t.data)||void 0===a?void 0:a.length)||0)},0),{...e,value:t.length,target:Math.max(t.length,10)}}))}catch(a){console.error("Failed to fetch stats:",a);let e=setInterval(()=>{t(e=>e.map(e=>({...e,value:Math.min(e.value+3*Math.random(),e.target)})))},100);setTimeout(()=>clearInterval(e),3e3)}})()},[]),(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8 pb-16",children:(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-6",children:e.map((e,t)=>(0,r.jsxs)(n.Zp,{className:"bg-black/20 border-gray-800 backdrop-blur-sm p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r ".concat(e.color," bg-clip-text text-transparent"),children:Math.floor(e.value)}),(0,r.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.label}),(0,r.jsx)("div",{className:"mt-3 bg-gray-800 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r ".concat(e.color," transition-all duration-300"),style:{width:"".concat(e.value/e.target*100,"%")}})})]},t))})})}},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},5615:(e,t,a)=>{"use strict";a.d(t,{AIAnalysisPanel:()=>f});var r=a(5155),s=a(2115),n=a(8482),l=a(8145),i=a(7168),o=a(9376),c=a(3311),d=a(381),m=a(1539),u=a(3109),g=a(8749),h=a(2657),x=a(5021),p=a(4229);function b(e){let{isOpen:t,onClose:a,onSave:o,currentSettings:c}=e,[m,u]=(0,s.useState)(c),[b,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u(c)},[c]);let N=async()=>{f(!0),y(null);try{if("deepseek"===m.provider){let e=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m.deepseek.apiKey)},body:JSON.stringify({model:m.deepseek.model,messages:[{role:"user",content:"测试连接"}],max_tokens:10})});if(e.ok)y({success:!0,message:"DeepSeek API 连接成功！"});else{let t=await e.text();y({success:!1,message:"DeepSeek API 连接失败: ".concat(t)})}}else if("dify"===m.provider){let e=await fetch("".concat(m.dify.baseUrl,"/chat-messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m.dify.apiKey)},body:JSON.stringify({inputs:{},query:"测试连接",response_mode:"blocking",user:"test-user"})});if(e.ok)y({success:!0,message:"Dify API 连接成功！"});else{let t=await e.text();y({success:!1,message:"Dify API 连接失败: ".concat(t)})}}}catch(e){y({success:!1,message:"连接测试失败: ".concat(e instanceof Error?e.message:"未知错误")})}finally{f(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)(n.Zp,{className:"w-full max-w-2xl bg-gradient-to-br from-slate-800/90 to-purple-900/20 border-purple-500/30 backdrop-blur-sm",children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-600 to-cyan-600",children:(0,r.jsx)(d.A,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{className:"text-white text-lg",children:"AI 分析设置"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"配置您自己的大模型API参数"}),(0,r.jsx)("div",{className:"mt-2 p-2 rounded bg-yellow-900/20 border border-yellow-500/30",children:(0,r.jsx)("p",{className:"text-yellow-300 text-xs",children:"\uD83D\uDD12 您的API密钥仅存储在本地浏览器中，不会上传到服务器"})})]})]}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:a,className:"border-gray-600 text-gray-300 hover:bg-gray-800/50",children:"关闭"})]})}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"text-white text-sm font-medium",children:"AI 提供商"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(i.$,{variant:"deepseek"===m.provider?"default":"outline",onClick:()=>u(e=>({...e,provider:"deepseek"})),className:"deepseek"===m.provider?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white":"border-gray-600 text-gray-300 hover:bg-gray-800/50",children:"DeepSeek"}),(0,r.jsx)(i.$,{variant:"dify"===m.provider?"default":"outline",onClick:()=>u(e=>({...e,provider:"dify"})),className:"dify"===m.provider?"bg-gradient-to-r from-green-600 to-emerald-600 text-white":"border-gray-600 text-gray-300 hover:bg-gray-800/50",children:"Dify"})]})]}),"deepseek"===m.provider&&(0,r.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-slate-900/30 border border-blue-500/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.E,{variant:"outline",className:"border-blue-500/50 bg-blue-500/10 text-blue-300",children:"DeepSeek 配置"}),(0,r.jsx)("a",{href:"https://platform.deepseek.com/api_keys",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:text-blue-300 underline",children:"获取API Key"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-white text-sm font-medium block mb-2",children:"API Key"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:j?"text":"password",value:m.deepseek.apiKey,onChange:e=>u(t=>({...t,deepseek:{...t.deepseek,apiKey:e.target.value}})),placeholder:"sk-...",className:"w-full px-3 py-2 pr-10 bg-slate-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"}),(0,r.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(!j),className:"absolute right-1 top-1 h-8 w-8 p-0 text-gray-400 hover:text-white",children:j?(0,r.jsx)(g.A,{className:"h-4 w-4"}):(0,r.jsx)(h.A,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-white text-sm font-medium block mb-2",children:"模型"}),(0,r.jsxs)("select",{value:m.deepseek.model,onChange:e=>u(t=>({...t,deepseek:{...t.deepseek,model:e.target.value}})),className:"w-full px-3 py-2 bg-slate-800/50 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",children:[(0,r.jsx)("option",{value:"deepseek-chat",children:"deepseek-chat"}),(0,r.jsx)("option",{value:"deepseek-reasoner",children:"deepseek-reasoner"})]})]})]})]}),"dify"===m.provider&&(0,r.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-slate-900/30 border border-green-500/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.E,{variant:"outline",className:"border-green-500/50 bg-green-500/10 text-green-300",children:"Dify 配置"}),(0,r.jsx)("a",{href:"https://docs.dify.ai/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-green-400 hover:text-green-300 underline",children:"查看文档"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-white text-sm font-medium block mb-2",children:"Base URL"}),(0,r.jsx)("input",{type:"text",value:m.dify.baseUrl,onChange:e=>u(t=>({...t,dify:{...t.dify,baseUrl:e.target.value}})),placeholder:"https://your-dify-instance.com/v1",className:"w-full px-3 py-2 bg-slate-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-green-500 focus:outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-white text-sm font-medium block mb-2",children:"API Key"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:j?"text":"password",value:m.dify.apiKey,onChange:e=>u(t=>({...t,dify:{...t.dify,apiKey:e.target.value}})),placeholder:"app-...",className:"w-full px-3 py-2 pr-10 bg-slate-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-green-500 focus:outline-none"}),(0,r.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(!j),className:"absolute right-1 top-1 h-8 w-8 p-0 text-gray-400 hover:text-white",children:j?(0,r.jsx)(g.A,{className:"h-4 w-4"}):(0,r.jsx)(h.A,{className:"h-4 w-4"})})]})]})]})]}),v&&(0,r.jsx)("div",{className:"p-3 rounded-lg border ".concat(v.success?"bg-green-900/20 border-green-500/30 text-green-300":"bg-red-900/20 border-red-500/30 text-red-300"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(v.success?"bg-green-400":"bg-red-400")}),(0,r.jsx)("span",{className:"text-sm",children:v.message})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-700",children:[(0,r.jsx)(i.$,{onClick:N,disabled:b,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800/50",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2 animate-spin"}),"测试中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"测试连接"]})}),(0,r.jsxs)(i.$,{onClick:()=>{localStorage.setItem("ai-settings",JSON.stringify(m)),o(m),a()},className:"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700 text-white flex-1",children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"保存设置"]})]})]})]})}):null}function f(){let[e,t]=(0,s.useState)(!1),[a,g]=(0,s.useState)(""),[h,x]=(0,s.useState)(""),[p,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)({provider:"deepseek",deepseek:{apiKey:"",model:"deepseek-chat"},dify:{baseUrl:"",apiKey:""}});(0,s.useEffect)(()=>{let e=localStorage.getItem("ai-settings");if(e)try{y(JSON.parse(e))}catch(e){console.error("Failed to load AI settings:",e)}},[]);let j=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if("deepseek"===v.provider&&!v.deepseek.apiKey){x("请先在设置中配置DeepSeek API Key");return}if("dify"===v.provider&&(!v.dify.baseUrl||!v.dify.apiKey)){x("请先在设置中配置Dify Base URL和API Key");return}t(!0),g(""),x("");try{let t=window.location.origin,a="".concat(t,"/aggregate?group=source&per=5");"tech"===e?a="".concat(t,"/aggregate?group=category&category=tech&per=10"):"finance"===e?a="".concat(t,"/aggregate?group=category&category=finance&per=10"):"news"===e?a="".concat(t,"/aggregate?group=category&category=news&per=10"):"media"===e&&(a="".concat(t,"/aggregate?group=category&category=media&per=10"));let r=await fetch(a),s=await r.json();if(!s.categories||0===s.categories.length)throw Error("无法获取热点数据");let n=w(s.categories,e);await N(n)}catch(e){x(e instanceof Error?e.message:"分析失败"),t(!1)}},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",a={all:"全网热点",tech:"科技新闻",finance:"财经",news:"实时新闻",media:"新媒体"}[t]||"全网热点",r="你是SGA AI热点分析专家。请基于以下中国互联网".concat(a,"数据进行深度分析：\n\n## 数据源概览\n"),s=0;e.forEach(e=>{s+=e.data.length,r+="### ".concat(e.name,"分类 (").concat(e.data.length,"个数据源)\n"),e.data.forEach((e,t)=>{r+="#### ".concat(t+1,". ").concat(e.title,"\n"),e.data&&Array.isArray(e.data)&&e.data.slice(0,5).forEach((e,t)=>{r+="".concat(t+1,". ").concat(e.title).concat(e.hot?" (热度: ".concat(e.hot,")"):"","\n")}),r+="\n"})});let n="";return n="tech"===t?"\n\uD83D\uDD25 科技热点分析 - 识别当前最热门的科技话题和技术趋势\n\uD83D\uDE80 技术创新识别 - 发现新兴技术、产品发布、行业变革\n\uD83D\uDCF1 产品动态分析 - 分析科技公司产品更新、市场策略\n\uD83D\uDD2C 行业趋势预测 - 基于数据预测科技行业发展方向\n\uD83D\uDCA1 投资机会洞察 - 识别科技领域的投资热点和商业机会":"finance"===t?"\n\uD83D\uDCB0 财经热点分析 - 识别当前最受关注的财经话题\n\uD83D\uDCC8 市场趋势分析 - 分析股市、汇市、商品市场动向\n\uD83C\uDFE6 政策影响评估 - 分析财经政策对市场的影响\n\uD83D\uDCBC 企业动态追踪 - 关注重要企业的财务表现和战略调整\n\uD83D\uDD2E 经济走势预测 - 基于数据预测经济发展趋势":"news"===t?"\n\uD83D\uDCF0 实时新闻分析 - 识别当前最重要的新闻事件\n\uD83C\uDF0D 社会热点追踪 - 分析社会关注度高的事件和话题\n\uD83D\uDD25 舆情趋势分析 - 评估公众对重要事件的反应和情绪\n⚡ 突发事件监控 - 识别可能产生重大影响的突发新闻\n\uD83D\uDCCA 传播影响评估 - 分析新闻事件的传播范围和社会影响":"media"===t?"\n\uD83D\uDCF1 新媒体热点分析 - 识别社交媒体和内容平台的热门话题\n\uD83C\uDFAC 内容趋势追踪 - 分析短视频、直播、社区讨论的流行趋势\n\uD83D\uDC65 用户行为洞察 - 分析用户互动模式和兴趣偏好变化\n\uD83D\uDD25 病毒传播分析 - 识别具有病毒传播潜力的内容和话题\n\uD83D\uDCC8 平台生态观察 - 分析不同新媒体平台的内容生态和用户特征":"\n\uD83D\uDD25 热点共性分析 - 找出跨平台、跨领域的共同话题和趋势\n\uD83C\uDF31 苗头趋势识别 - 识别正在兴起但还未完全爆发的话题\n\uD83D\uDCCA 分类特征分析 - 各分类(科技、新媒体、实时新闻、财经)的独特特征\n\uD83D\uDD04 传播规律分析 - 不同平台间的话题传播时差和特点\n\uD83D\uDD2E 未来趋势预测 - 基于当前数据预测未来1-3天的热点走向",r+="## 分析要求\n基于以上 ".concat(s," 个数据源的").concat(a,"数据，请从以下维度进行深度分析：\n").concat(n,"\n\n## 输出要求\n⚠️ 重要：请严格按照以下格式输出，不要使用markdown语法（如**、##、-等）：\n\n1. 使用丰富的emoji表情符号增强可读性\n2. 用简洁的段落和换行组织内容\n3. 避免使用任何markdown格式标记\n4. 重点关注数据背后的深层含义、社会文化趋势、商业机会和风险、公众情绪变化\n5. 语言要生动有趣，适合在聊天界面显示\n\n现在开始你的").concat(a,"专业分析：")},N=async e=>{try{"deepseek"===v.provider?await k(e):"dify"===v.provider&&await D(e)}catch(e){throw e}},k=async e=>{try{let t=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v.deepseek.apiKey)},body:JSON.stringify({model:v.deepseek.model,messages:[{role:"system",content:"你是SGA AI热点分析专家，擅长从海量热点数据中发现趋势、识别苗头、预测走向。你的分析深刻、准确、有前瞻性。"},{role:"user",content:e}],stream:!0,temperature:.7,max_tokens:2e3})});if(!t.ok)throw Error("DeepSeek API错误: ".concat(t.status));await A(t)}catch(e){throw Error("DeepSeek API调用失败: ".concat(e instanceof Error?e.message:"未知错误"))}},D=async e=>{try{let t=await fetch("".concat(v.dify.baseUrl,"/chat-messages"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v.dify.apiKey)},body:JSON.stringify({inputs:{},query:e,response_mode:"streaming",user:"sga-user"})});if(!t.ok)throw Error("Dify API错误: ".concat(t.status));await S(t)}catch(e){throw Error("Dify API调用失败: ".concat(e instanceof Error?e.message:"未知错误"))}},A=async e=>{var a,r,s,n;let l=null===(a=e.body)||void 0===a?void 0:a.getReader(),i=new TextDecoder;if(!l)throw Error("无法读取响应流");for(;;){let{done:e,value:a}=await l.read();if(e)break;for(let e of i.decode(a).split("\n"))if(e.startsWith("data: ")){let a=e.slice(6);if("[DONE]"===a){t(!1);return}try{let e=JSON.parse(a),t=null===(n=e.choices)||void 0===n?void 0:null===(s=n[0])||void 0===s?void 0:null===(r=s.delta)||void 0===r?void 0:r.content;t&&g(e=>e+t)}catch(e){}}}},S=async e=>{var a;let r=null===(a=e.body)||void 0===a?void 0:a.getReader(),s=new TextDecoder;if(!r)throw Error("无法读取响应流");for(;;){let{done:e,value:a}=await r.read();if(e)break;for(let e of s.decode(a).split("\n"))if(e.startsWith("data: ")){let a=e.slice(6);try{let e=JSON.parse(a);if("message"===e.event&&e.answer)g(t=>t+e.answer);else if("message_end"===e.event){t(!1);return}}catch(e){}}}};return(0,r.jsxs)("div",{className:"px-6 py-12",children:[(0,r.jsx)("div",{className:"mx-auto max-w-4xl",children:(0,r.jsxs)(n.Zp,{className:"bg-gradient-to-br from-slate-800/50 to-purple-900/20 border-purple-500/30 backdrop-blur-sm",children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-600 to-cyan-600",children:(0,r.jsx)(o.A,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{className:"text-white text-xl",children:"SGA AI 热点趋势分析"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"实时智能分析78个数据源热点趋势"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(l.E,{variant:"outline",className:"border-cyan-500/50 bg-cyan-500/10 text-cyan-300",children:[(0,r.jsx)(c.A,{className:"h-3 w-3 mr-1"}),"AI驱动"]}),(0,r.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>f(!0),className:"border-gray-600 text-gray-300 hover:bg-gray-800/50 h-8 px-3",children:[(0,r.jsx)(d.A,{className:"h-3 w-3 mr-1"}),"设置"]})]})]})}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsx)(i.$,{onClick:()=>j("all"),disabled:e,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 transition-all duration-300 h-12",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2 animate-spin"}),"分析中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"全网分析"]})}),(0,r.jsx)(i.$,{onClick:()=>j("tech"),disabled:e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 transition-all duration-300 h-12",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2 animate-spin"}),"分析中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"科技新闻分析"]})}),(0,r.jsx)(i.$,{onClick:()=>j("finance"),disabled:e,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white shadow-lg shadow-green-500/25 hover:shadow-green-500/40 transition-all duration-300 h-12",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2 animate-spin"}),"分析中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"财经分析"]})}),(0,r.jsx)(i.$,{onClick:()=>j("news"),disabled:e,className:"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white shadow-lg shadow-red-500/25 hover:shadow-red-500/40 transition-all duration-300 h-12",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2 animate-spin"}),"分析中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"实时新闻分析"]})}),(0,r.jsx)(i.$,{onClick:()=>j("media"),disabled:e,className:"bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 text-white shadow-lg shadow-pink-500/25 hover:shadow-pink-500/40 transition-all duration-300 h-12",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2 animate-spin"}),"分析中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"新媒体分析"]})})]}),h&&(0,r.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),(0,r.jsx)("span",{className:"text-red-400 text-sm font-semibold",children:"分析错误"})]}),(0,r.jsx)("div",{className:"text-red-300 text-sm",children:h})]}),a&&(0,r.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-6 border border-cyan-500/20 backdrop-blur-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e?"bg-cyan-400 animate-pulse":"bg-green-400")}),(0,r.jsx)("span",{className:"text-sm font-mono ".concat(e?"text-cyan-400":"text-green-400"),children:e?"DeepSeek AI 正在分析...":"DeepSeek AI 分析完成"})]}),(0,r.jsxs)("div",{className:"text-gray-300 whitespace-pre-wrap text-sm leading-relaxed",children:[a,e&&(0,r.jsx)("span",{className:"animate-pulse text-cyan-400",children:"▋"})]})]})]})]})}),(0,r.jsx)(b,{isOpen:p,onClose:()=>f(!1),onSave:y,currentSettings:v})]})}},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(5155);a(2115);var s=a(6634),n=a(2085),l=a(3999);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,d=o?s.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,l.cn)(i({variant:a,size:n,className:t})),...c})}},8145:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var r=a(5155),s=a(2085),n=a(3999);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...s})}},8482:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>l});var r=a(5155);a(2115);var s=a(3999);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}},9990:(e,t,a)=>{Promise.resolve().then(a.bind(a,5615)),Promise.resolve().then(a.bind(a,1369)),Promise.resolve().then(a.bind(a,3084)),Promise.resolve().then(a.bind(a,1206))}},e=>{var t=t=>e(e.s=t);e.O(0,[387,441,684,358],()=>t(9990)),_N_E=e.O()}]);